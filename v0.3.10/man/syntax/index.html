<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Syntax · JuDoc.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>JuDoc.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../workflow/">Workflow</a></li><li class="current"><a class="toctext" href>Syntax</a><ul class="internal"><li><a class="toctext" href="#Basics-1">Basics</a></li><li><a class="toctext" href="#LaTeX-commands-1">LaTeX commands</a></li><li><a class="toctext" href="#Code-insertions-1">Code insertions</a></li><li><a class="toctext" href="#File-insertions-1">File insertions</a></li><li><a class="toctext" href="#Page-variables-1">Page variables</a></li></ul></li><li><a class="toctext" href="../templating/">Templating</a></li><li><a class="toctext" href="../themes/">Themes</a></li><li><a class="toctext" href="../contrib/">Contributing</a></li><li><a class="toctext" href="../troubleshooting/">Troubleshooting</a></li></ul></li><li><span class="toctext">Library</span><ul><li><a class="toctext" href="../../lib/design/">Design</a></li><li><a class="toctext" href="../../lib/public/">Public</a></li><li><a class="toctext" href="../../lib/internals/">Internals</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href>Syntax</a></li></ul><a class="edit-page" href="https://github.com/tlienart/JuDoc.jl/blob/master/docs/src/man/syntax.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Syntax</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Syntax-1" href="#Syntax-1">Syntax</a></h1><p>This page is about the modified markdown syntax that is used in JuDoc. For the HTML templating syntax, see <a href="../templating/#Templating-1">Templating</a>.</p><p>A good way to become familiar with the JuDoc syntax is to generate a test-website and modify its <code>index.md</code> as explained in the <a href="../../#Quick-start-1">Quick start</a> tutorial. Most of what is presented here is also shown in that example.</p><p><strong>Contents</strong>:</p><ul><li><a href="#Basics-1">Basic syntax</a><ul><li><a href="#General-1">General</a></li><li><a href="#Maths-1">Maths</a></li><li><a href="#Div-blocks-1">Div blocks</a></li><li><a href="#Table-of-contents-1">Table of contents</a></li><li><a href="#Using-raw-HTML-1">Using raw HTML</a></li><li><a href="#Comments-1">Comments</a></li></ul></li><li><a href="#LaTeX-commands-1">LaTeX commands</a><ul><li><a href="#Nesting-1">Nesting</a></li><li><a href="#Whitespaces-1">Whitespaces</a></li><li><a href="#Local-vs-global-1">Local vs global</a></li><li><a href="#Hyper-references-1">Hyper-references</a></li></ul></li><li><a href="#Code-insertions-1">Code insertions</a><ul><li><a href="#On-the-fly-evaluation-1">On-the-fly evaluation</a><ul><li><a href="#More-on-paths-1">More on paths</a></li><li><a href="#Inserting-the-output-1">Inserting the output</a></li><li><a href="#Hiding-lines-1">Hiding lines</a></li></ul></li><li><a href="#Separate-evaluation-1">Separate evaluation</a><ul><li><a href="#Inserting-code-1">Inserting code</a></li><li><a href="#Plain-text-output-1">Plain-text output</a></li><li><a href="#Plot-output-1">Plot output</a></li><li><a href="#Slicing-up-1">Slicing up</a></li></ul></li></ul></li><li><a href="#File-insertions-1">File insertions</a><ul><li><a href="#Inserting-a-figure-1">Inserting a figure</a></li><li><a href="#Linking-a-file-1">Linking a file</a></li><li><a href="#Inserting-markdown-1">Inserting markdown</a></li><li><a href="#Inserting-a-table-1">Inserting a table</a></li></ul></li><li><a href="#Page-variables-1">Page variables</a><ul><li><a href="#Local-page-variables-1">Local page variables</a><ul><li><a href="#Default-variables-1">Default variables</a></li></ul></li><li><a href="#Global-page-variables-1">Global page variables</a></li></ul></li></ul><h2><a class="nav-anchor" id="Basics-1" href="#Basics-1">Basics</a></h2><p>The basic syntax corresponds to standard markdown and the <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">markdown cheatsheet</a> is a great resource, in particular:</p><ul><li>how to <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#images">insert images</a>,</li><li>how to <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#code-and-syntax-highlighting">insert code</a>,</li><li>how to <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#tables">insert tables</a>.</li></ul><p>One key difference with Git Flavored Markdown (GFM) is that inline HTML <em>should not be used</em> unless fenced with <code>~~~</code> (see the <a href="#Using-raw-HTML-1">section on injecting HTML</a> below).</p><h3><a class="nav-anchor" id="General-1" href="#General-1">General</a></h3><p>While you should expect JuDoc to support core <a href="https://commonmark.org/">Common Mark</a> syntax, there are a few particularities you should be aware of since the markdown parser implemented in JuDoc is the Julia Markdown parser (<code>Markdown.parse</code>) from stdlib coupled with a bunch of additions.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>If there is something not mentioned here that you expected to work according to Common Mark but it doesn&#39;t, please open an issue in the JuDoc repository.</p></div></div><h4><a class="nav-anchor" id="Symbols-1" href="#Symbols-1">Symbols</a></h4><p>Outside code environments, there are a few quirks in dealing with symbols:</p><ul><li>(<strong>dollar sign</strong>) to introduce a dollar sign, you <em>must</em> escape it with a backslash: <code>\$</code> as it is otherwise used to open and close inline math blocks,</li><li>(<strong>HTML entity</strong>) you can use HTML entities without issues like <code>&amp;rarr;</code> for &quot;→&quot; or in fact <code>&amp;#36;</code> for &quot;$&quot;,</li><li>(<strong>backslash</strong>) to introduce a backslash, you can just use <code>\</code>, a <em>double backslash</em> <code>\\</code> can be used to signify a <em>line break</em> in text.</li></ul><h4><a class="nav-anchor" id="Other-notes-1" href="#Other-notes-1">Other notes</a></h4><ul><li>(<strong>header</strong>) should <em>only</em> be defined via a number of <code>#</code> at the start of a line (this is to help table-of-contents generation),</li><li>(<strong>line break</strong>) use a double backslash <code>\\</code> in text to force a line break (<code>&lt;/br&gt;</code>), a bit like in LaTeX,</li><li>(<strong>list items</strong>) <em>must</em> be on the same line (<em>this is due to <a href="https://github.com/JuliaLang/julia/issues/30198">a limitation</a> of the Julia Markdown parser</em>),</li><li>(<strong>indented blocks</strong>) you <em>can</em> use indented blocks to delimit code blocks but we <em>strongly recommend</em> you use fenced code blocks (with triple backticks) instead as the language can be made explicit and fenced code blocks can be executed (see the section on <a href="#Code-insertions-1">code insertion</a>),</li><li>(<strong>link reference</strong>) when using &quot;indirect links&quot; i.e. in the text you use something like <code>[link name][link A]</code> and then somewhere else you define <code>[link A]: some/url/</code>, we recommend you use unambiguous link identifiers (here <code>[link A]</code>). For instance we would recommend you not to use numbers like <code>[link name][1]</code>, indeed if on the page you have some code where <code>[1]</code> appears, there is an ambiguity which could cause problems for the parser. (<em>this is due to a hack to bypass <a href="https://github.com/JuliaLang/julia/issues/19844">a limitation</a> of the Julia Markdown parser</em>)</li><li>(<strong>link title</strong>) are currently <em>not supported</em> e.g. something like <code>[link A](some/url/ &quot;link title&quot;)</code>.</li></ul><h4><a class="nav-anchor" id="Quirks-1" href="#Quirks-1">Quirks</a></h4><ul><li>to introduce a horizontal line, use <code>----</code> or <code>*****</code> but <code>- - -</code> or <code>* * *</code> won&#39;t work (<em>this is a limitation of the Julia Markdown parser</em>)</li><li>if, for some reason, you want to have something like <code>[...]: ...</code> somewhere on your page that does <em>not</em> define a link, then you need to toggle ref-links off (<code>@def reflinks = false</code>) and only use inline links <code>[link name](some/url/)</code></li></ul><h3><a class="nav-anchor" id="Maths-1" href="#Maths-1">Maths</a></h3><p>For maths elements the usage is similar to standard LaTeX; whitespaces and new-lines don&#39;t matter. To see what you can and can&#39;t do in KaTeX, refer to <a href="https://katex.org/docs/support_table.html">their docs</a> or <a href="https://utensil-site.github.io/available-in-katex/">this page</a>.</p><p>In JuDoc you can have</p><ul><li>inline math with <code>$ ... $</code> (if you want to write a dollar symbol, you can escape it like so: <code>\$</code>) e.g.:</li></ul><pre><code class="language-judoc">the function $ f(x)=\sin(x) $ is periodic, this is a dollar sign: \$.</code></pre><ul><li>display math with <code>$$ ... $$</code> or <code>\[ ... \]</code> e.g.:</li></ul><pre><code class="language-judoc">the identity
\[ \exp(i\pi)+1=0 \]
is nice</code></pre><ul><li>display + aligned math (1) with <code>\begin{align} ... \end{align}</code> e.g.:</li></ul><pre><code class="language-judoc">\begin{align}
a&amp;=5 \\
b&amp;=7 \end{align}</code></pre><ul><li>display + aligned math (2) with <code>\begin{eqnarray} ... \end{eqnarray}</code> e.g.:</li></ul><pre><code class="language-judoc">\begin{eqnarray}
a &amp;=&amp; 5 \\
b &amp;=&amp; 7 \end{eqnarray}</code></pre><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>In LaTeX use of <code>eqnarray</code> tends to be discouraged due to possible interference with array column spacing. In JuDoc this will not happen. However it is identical with LaTeX in that the spacing around the <code>=</code> in a <code>eqnarray</code> is larger than in an <code>align</code> which you may prefer.</p></div></div><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>Currently all display-math equations are numbered by default.</p></div></div><p>A final element to keep in mind is that you should surround inequality operators with whitespaces in order to avoid ambiguous commands in KaTeX. So in particular, both: <code>$0&lt; C$</code> or <code>$0 &lt; C$</code> are fine but <code>$0 &lt;C$</code> isn&#39;t. When in doubts add whitespaces.</p><h3><a class="nav-anchor" id="Div-blocks-1" href="#Div-blocks-1">Div blocks</a></h3><p>In order to locally style your content, you can use <code>@@divname ... @@</code> which will wrap some content in a <code>&lt;div class=&quot;divname&quot;&gt; ... &lt;/div&gt;</code> block which you can style as you wish in your CSS stylesheet. For instance, you may want to highlight some content with a light-yellow background, you can do this with:</p><pre><code class="language-judoc">Some text then
@@important
Some important content
@@
and the rest of your text</code></pre><p>and then, in your CSS, you could use</p><pre><code class="language-css">.important {
  background-color: lemonchiffon;
  padding-left: 0.5em;
  padding-top: 0.7em;
  padding-bottom: 0.5em;
  border-radius: 5px;
}</code></pre><p>which will look like</p><div class="admonition important"><div class="admonition-title">Important</div><div class="admonition-text"><p>Some important content</p></div></div><p>These div blocks can be nested as in standard HTML.</p><h3><a class="nav-anchor" id="Table-of-contents-1" href="#Table-of-contents-1">Table of contents</a></h3><p>JuDoc can insert automatically generated table of contents simply by using <code>\toc</code> or <code>\tableofcontents</code> somewhere appropriate in your markdown. The table of contents will be generated in a <code>jd-toc</code> div block, so if you would like to modify the styling, you should modify <code>.jd-toc ol</code>, <code>.jd-toc li</code> etc in your CSS.</p><h3><a class="nav-anchor" id="Using-raw-HTML-1" href="#Using-raw-HTML-1">Using raw HTML</a></h3><p>You can inject HTML by using <code>~~~ ... ~~~</code> which can be useful if, for instance, you occasionally want to use a specific layout such as text next to an image:</p><pre><code class="language-judoc">Some text here in the &quot;standard&quot; layout then you can inject raw HTML:

~~~
&lt;div class=&quot;row&quot;&gt;
  &lt;div class=&quot;container&quot;&gt;
    &lt;img class=&quot;left&quot; src=&quot;/assets/infra/rndimg.jpg&quot;&gt;
    &lt;p&gt; Marine iguanas are truly splendid creatures. &lt;/p&gt;
    &lt;p&gt; Evolution is cool. &lt;/p&gt;
    &lt;div style=&quot;clear: both&quot;&gt;&lt;/div&gt;      
  &lt;/div&gt;
&lt;/div&gt;
~~~

and subsequently continue with the standard layout.</code></pre><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>In a raw HTML, you cannot use markdown, maths etc. For this reason, it is often preferable to use nested <code>@@divname...</code> blocks instead of raw HTML since those <em>can</em> have markdown, maths, etc. in them. (See also the example generated by <a href="../../lib/public/#JuDocTemplates.newsite"><code>newsite</code></a>.)</p></div></div><h3><a class="nav-anchor" id="Comments-1" href="#Comments-1">Comments</a></h3><p>You can add comments in your markdown using HTML-like comments: <code>&lt;!-- your comment --&gt;</code> possibly on multiple lines. Note that comments are <em>not allowed</em> in a math environment. So this:</p><pre><code class="language-judoc">Some markdown here $\sin(\alpha+\beta)=\sin\alpha\cos\beta+\cos\alpha\sin\beta$ then
&lt;!--
TODO: add other formulas
--&gt;
and then some more markdown</code></pre><p>is fine but:</p><pre><code class="language-judoc">$$
\exp(i\pi)+1 = 0 &lt;!-- this is very pretty --&gt;
$$</code></pre><p>is not.</p><h2><a class="nav-anchor" id="LaTeX-commands-1" href="#LaTeX-commands-1">LaTeX commands</a></h2><p>JuDoc allows the definition of LaTeX-like commands which can be particularly useful for repeating elements be it in or out of math environments.</p><p>Definition of commands is as in LaTeX (with the constraint that you <em>must</em> use the <code>\newcommand{...}[...]{...}</code> format; see examples below).</p><p><strong>Example 1</strong>: a command to get a <span>$\mathbb R$</span> in math environments:</p><pre><code class="language-judoc">\newcommand{\R}{\mathbb R}

Let $f:\R\to\R$ a function...</code></pre><p><strong>Example 2</strong>: a command to get a <span>$\langle x, y \rangle$</span> in math environments:</p><pre><code class="language-judoc">\newcommand{\scal}[1]{\left\langle #1 \right\rangle}</code></pre><p><strong>Example 3</strong>: a command to change the colour of the text outside of a math environment (note that inside a math environment you can use <code>\textcolor</code> which is defined in KaTeX; I&#39;m using a different name here so that these two don&#39;t clash since commands defined in JuDoc take precedence):</p><pre><code class="language-judoc">\newcommand{\col}[2]{~~~ &lt;span style=&quot;color:#1&quot;&gt;#2&lt;/span&gt; ~~~}

And then you can use \col{tomato}{colours} in your text and
$$x + \textcolor{blue}{y} + z$$
in your maths.</code></pre><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>Command names should currently only contain letters. This could be relaxed, for instance to allow underscore and numbers (since JuDoc strictly enforces the use of braces around command arguments, it wouldn&#39;t be ambiguous). If you think that would be useful, please open an issue.</p></div></div><h3><a class="nav-anchor" id="Nesting-1" href="#Nesting-1">Nesting</a></h3><p>Using commands can be nested –as in LaTeX– and, moreover, you can throw in some judoc markdown. Here is a somewhat more sophisticated example for a &quot;definition&quot; environment:</p><pre><code class="language-judoc">\newcommand{\definition}[2]{@@definition **Definition**: (_!#1_) #2 @@}

\definition{angle between vectors}{
  Let $x, y \in \R^n$ denote two real vectors and let $\scal{\cdot, \cdot}$ denote
  the inner product of two vectors. Then, the angle $\theta$ between $x$ and $y$ is
  given by $$ \cos(\theta) = {\scal{x,y}\over \scal{x,x} \scal{y,y}} $$ }</code></pre><p>with CSS</p><pre><code class="language-css">.definition {
    background-color: aliceblue;
    border-left: 5px solid cornflowerblue;
    border-radius: 10px;
    padding: 10px;
}</code></pre><p>it will look like</p><p><img src="../../assets/ex-definition.png" alt/></p><p>Of course, you can also nest definitions:</p><pre><code class="language-judoc">\newcommand{\norm}[2]{\left\|#1\right\|_{#2}}
\newcommand{\anorm}[1]{\norm{#1}{1}}
\newcommand{\bnorm}[1]{\norm{#1}{2}}

Let $x\in\R^n$, there exists $0 &lt; C_1 \le C_2$ such that

$$ C_1 \anorm{x} \le \bnorm{x} \le C_2\anorm{x}. $$</code></pre><p>where the final equation would look like <span>$C_1 \|x\|_1 \le \|x\|_2 \le C_2\|x\|_1$</span>.</p><h3><a class="nav-anchor" id="Whitespaces-1" href="#Whitespaces-1">Whitespaces</a></h3><p>In a JuDoc newcommand, to refer to an argument, you can use <code>#1</code> or <code>!#1</code>. There is a subtle difference: the first one introduces a space left of the argument (this allows to avoid ambiguous commands in general) and the second one does not. In general whitespaces are irrelevant and will not show up and so the usual <code>#1</code> is the recommended setting. However, there are cases where the whitespace does appear and you don&#39;t want it to (e.g. outside a math environment if the command is directly preceded by something). In those cases, and provided there is no ambiguity (e.g.: due to chaining commands), you can use <code>!#1</code> which will <em>not</em> insert the whitespace. For instance:</p><pre><code class="language-judoc">\newcommand{\pathwith}[1]{`/usr/local/bin/#1`}
\newcommand{\pathwithout}[1]{`/usr/local/bin/!#1`}</code></pre><ul><li><code>\pathwith{hello}</code> will give <code>/usr/local/bin/ hello</code> which would be inappropriate whereas</li><li><code>\pathwithout{hello}</code> will give <code>usr/local/hello</code>.</li></ul><h3><a class="nav-anchor" id="Local-vs-global-1" href="#Local-vs-global-1">Local vs global</a></h3><p>The commands you define will be available <em>only</em> within the page you define them in. However, if you would like to define commands that are <em>globally</em> available to all pages, then you should simply put these definitions in <code>src/config.md</code>.</p><h3><a class="nav-anchor" id="Hyper-references-1" href="#Hyper-references-1">Hyper-references</a></h3><p>Three types of hyper-references are supported:</p><ul><li>for display math,</li><li>for bibliography references,</li><li>for specific anchor points in the page.</li></ul><p>The syntax for all three is close to that of standard LaTeX (see below).</p><p>To style the appearance of the maths or bib links in CSS, use <code>.jd-content.eqref a</code> and <code>.jd-content.bibref a</code> classes; for instance:</p><pre><code class="language-css">.jd-content .eqref a  {color: blue;}
.jd-content .bibref a {color: green;}</code></pre><h4><a class="nav-anchor" id="Equations-1" href="#Equations-1">Equations</a></h4><p>To label an equation, just use <code>\label{some label}</code> in the math environment and, to refer to it, use <code>\eqref{some label}</code>:</p><pre><code class="language-judoc">Some equation:

$$\exp(i\pi) + 1 = 0 \label{a cool equation}$$

and you can refer to it in the text like so, equation \eqref{a cool equation}.</code></pre><p>As in LaTeX, you can refer to several equations in one by separating names with commas: <code>\eqref{some label, some other}</code> (and so you should not use commas in your labels).</p><h4><a class="nav-anchor" id="Bibliography-1" href="#Bibliography-1">Bibliography</a></h4><p>For bibliography references, you can use <code>\biblabel{short}{name}</code> to indicate a bibliography reference which will appear as a clickable link <code>(name)</code> or <code>name</code> and can be referred to by <code>short</code>:</p><pre><code class="language-judoc">In the text you may refer to \citep{noether15, bezanson17} while in a bibliography
section you would have

* \biblabel{noether15}{Noether (1915)} **Noether**, Korper und Systeme rationaler Funktionen, 1915.
* \biblabel{bezanson17}{Bezanson et al. (2017)} **Bezanson**, **Edelman**, **Karpinski** and **Shah**, [Julia: a fresh approach to numerical computing](https://julialang.org/publications/julia-fresh-approach-BEKS.pdf), SIAM review 2017.</code></pre><p>The <code>name</code> argument therefore corresponds to how the bibliography reference will appear in the text. In the case above, the text will lead to</p><pre><code class="language-none">... refer to (Noether (1915), Bezanson et al. (2017)) while ...</code></pre><p>You can use</p><ul><li><code>\cite{short1, short2}</code> or <code>\citet{short3}</code>: will not add parentheses around the link(s),</li><li><code>\citep{short4, short5}</code>: will add parentheses around the link(s).</li></ul><p>As in LaTeX, if the reference is undefined, the command will be replaced by <strong>(??)</strong>.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>In the future, there may be a possibility to define specific bibliography styles. I&#39;ve not yet come around to it but feel free to open an issue if you would like this or would like to suggest a way to do it.</p></div></div><h4><a class="nav-anchor" id="Anchor-points-1" href="#Anchor-points-1">Anchor points</a></h4><p>You can specify anchor points on the page by using <code>\label{name of the anchor}</code> anywhere on the page outside of maths environment. This will insert an anchor:</p><pre><code class="language-html">&lt;a id=&quot;name-of-the-anchor&quot;&gt;&lt;/a&gt;</code></pre><p>You can subsequently add a link to it on the same page:</p><pre><code class="language-judoc">[link to it](#name-of-the-anchor)</code></pre><p>or from another page by prepending it with the path to the page, for instance:</p><pre><code class="language-judoc">[link to it](/index.html#name-of-the-anchor)</code></pre><p>Note also that all section headers are anchor points for instance</p><pre><code class="language-judoc">### Some subtitle</code></pre><p>can be linked to with <code>#some-subtitle</code>.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>In the future, a number will be appended to anchor-points corresponding to section headers so that if you have two headers with the same name, the links can be differentiated (issue <a href="https://github.com/tlienart/JuDoc.jl/issues/180">#180</a>). (Same as Documenter.jl.)</p></div></div><h2><a class="nav-anchor" id="Code-insertions-1" href="#Code-insertions-1">Code insertions</a></h2><p>As per Common Mark specifications, you have multiple ways of inserting code:</p><ul><li><strong>inline code</strong>: you can use single backticks (`) or double backticks (``) (if the code contains single ticks) like so:</li></ul><pre><code class="language-judoc">This is some `inline code` or ``inline ` code with a tick``.</code></pre><ul><li><strong>code blocks</strong>: it is recommended to use triple backticks (```) optionally followed by a language name for highlighting like so:</li></ul><pre><code class="language-judoc">This is some julia code:
```julia
a = 2
@show a
```</code></pre><ul><li><strong>code blocks 2</strong>: you can also use indented code blocks (lines starting with four spaces or a tab) (but <em>fenced code blocks should be preferred</em>)</li></ul><pre><code class="language-judoc">This is some code:

    a = 2
    @show a</code></pre><p><strong>Note</strong>: when either using indented code blocks or using fenced code blocks with no language name, then the code language for highlighting can be specified with the local page variable <code>lang</code> i.e. <code>@def lang = &quot;julia&quot;</code> (which is the default) or <code>@def lang = &quot;&quot;</code> if you don&#39;t want the code to be highlighted.</p><p>Sometimes, when presenting code in a post, you would like to make sure the code works and it can be annoying to have to copy-paste it around then copy its output, especially if you decide to make modifications on the way in which case you have to repeat the process.</p><p>In JuDoc there are two ways to do this.</p><ol><li>For Julia code, a <strong>live-evaluation</strong> of code blocks is supported not unlike the <a href="https://github.com/mpastell/Weave.jl">Weave.jl</a> package,</li><li>For all languages, you can run the script separately and insert the code and/or the output of the code in the page.</li></ol><h3><a class="nav-anchor" id="On-the-fly-evaluation-1" href="#On-the-fly-evaluation-1">On-the-fly evaluation</a></h3><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p><strong>Evaluation time</strong>: it is important to realise that when the code block is created or modified and the page is saved, it will trigger a page compilation that will <em>wait</em> for the evaluation of the code block to complete. So if your code block takes a long time to execute, the page will not be updated before that&#39;s done. That being said, if you don&#39;t modify the code block, it will only be executed <strong>once</strong> as the output is saved to file.</p></div></div><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p><strong>Sandboxing</strong>: on-the-fly evaluation of code blocks is still a bit experimental. Among other things, the code is <em>not sandboxed</em> which means that if you have two code blocks one after the other, the second one has access to what&#39;s defined in the first. This is natural within the same page, but it also works <em>across</em> pages. However, it would be really bad practice to rely on this as the order in which pages are compiled is not always the same. In short: take a page as a Julia notebook and make sure all your variables and functions you use are defined on that page.</p></div></div><p>Code blocks that should not be evaluated should be added as per standard markdown, so for instance:</p><pre><code class="language-judoc">```julia
a = 10
```</code></pre><p>Code blocks that should be evaluated should be added with <code>julia:path/to/script</code> where <code>path/to/script</code> indicates <em>where</em> the script corresponding to the code block will be saved (<strong>note</strong>: the given path <em>must</em> be in UNIX format even if you&#39;re using Windows)</p><pre><code class="language-judoc">```julia:./code/ex1
a = 10
@show a
```</code></pre><p>What this will do is:</p><ol><li>write the code to the file <code>/assets/[subpath]/code/ex1.jl</code></li><li>run the code and capture its output (<code>STDOUT</code>) and write it to <code>/assets/[subpath]/code/output/ex1.out</code></li></ol><p>The <code>[subpath]</code> here is the <em>exact same sub-path structure</em> than to the page where the code block is inserted. To clarify, let&#39;s say you wrote the above code-block in</p><pre><code class="language-none">/src/pages/folder1/page1.md</code></pre><p>then with the syntax above, the script will be saved in</p><pre><code class="language-none">/assets/pages/folder1/code/ex1.jl</code></pre><h4><a class="nav-anchor" id="More-on-paths-1" href="#More-on-paths-1">More on paths</a></h4><p>There are three ways you can specify where the script corresponding to a code-block should be saved.</p><ol><li><em>relative to the page</em>: <code>./[p]/script</code> is as above, it will write the code block to <code>/assets/[subpath]/p/script.jl</code> where <code>subpath</code> corresponds to the sub-path of the page where the code block is inserted (path below <code>/src/</code>)</li><li><em>relative to the assets dir</em>: <code>p/script</code> will write the code block to <code>/assets/p/script.jl</code></li><li><em>full path</em>: <code>/p/script</code> will write the code block to <code>/p/script.jl</code></li></ol><p><strong>Note</strong>: when code blocks are evaluated, their output (<code>STDOUT</code>) is captured and saved at <code>[path]/output/script.out</code> where <code>[path]</code> is what precedes <code>script.jl</code> in the cases above.</p><h4><a class="nav-anchor" id="Inserting-the-output-1" href="#Inserting-the-output-1">Inserting the output</a></h4><p>Let&#39;s say you&#39;ve added the following code block:</p><pre><code class="language-judoc">```julia:./code_pg1/ex1
using LinearAlgebra
a = [1, 2, 3]
@show dot(a, a)
```</code></pre><p>In order to show the raw output, just write</p><pre><code class="language-judoc">\output{./code_pg1/ex1}</code></pre><p>which in the present example will introduce exactly the following HTML</p><pre><code class="language-html">&lt;pre&gt;&lt;code class=&quot;language-julia&quot;&gt;dot(a, a) = 14&lt;/code&gt;&lt;/pre&gt;</code></pre><p>and will look like</p><pre><code class="language-none">dot(a, a) = 14</code></pre><p>If you now change the vector <code>a</code> in the code block, the page will be re-compiled with the code-block re-evaluated and the new output will be shown.</p><p>If you would like the output to appear as text (not a code block), you can use <code>\textoutput</code> instead. Here&#39;s an example:</p><pre><code class="language-judoc">```julia:./code_pg1/ex2
using Statistics
temps = (15, 15, 14, 16, 18, 19, 20, 12, 10, 24)
println(&quot;The _average_ temperature is **$(mean(temps))°C**.&quot;)
```
\textoutput{./code_pg1/ex2}</code></pre><p>Which will appear as:</p><pre><code class="language-julia">using Statistics
temps = (15, 15, 14, 16, 18, 19, 20, 12, 10, 24)
println(&quot;The _average_ temperature is **$(mean(temps))°C**.&quot;)</code></pre><p>The <em>average</em> temperature is <strong>16.3°C</strong>.</p><h4><a class="nav-anchor" id="Hiding-lines-1" href="#Hiding-lines-1">Hiding lines</a></h4><p>Sometimes you may want to run some lines but hide them from the presentation, for this just use <code># hide</code> at the end of the line (<code>hide</code> is not case sensitive so <code># HiDe</code> would be fine too):</p><pre><code class="language-judoc">```julia:./code_pg1/ex1
using LinearAlgebra # hide
a = [1, 2, 3]
@show dot(a, a)
```</code></pre><p>You could also hide the entire code block if you only care about the output, for this put a <code># hideall</code> on any line:</p><pre><code class="language-judoc">```julia:./code_pg1/ex2
#hideall
using Statistics
temps = (15, 15, 14, 16, 18, 19, 20, 12, 10, 24)
println(&quot;The _average_ temperature is **$(mean(temps))°C**.&quot;)
```
\textoutput{./code_pg1/ex2}</code></pre><p>Which will appear as just:</p><p>The <em>average</em> temperature is <strong>16.3°C</strong>.</p><h3><a class="nav-anchor" id="Separate-evaluation-1" href="#Separate-evaluation-1">Separate evaluation</a></h3><p>The philosophy here is:</p><ul><li>keep your code snippets in appropriate subfolders of <code>/assets/</code> where they can be run and their output can be saved, this can be compared to a <code>test/</code> folder in a Julia package,</li><li>run some or all of the snippets (before running JuDoc),</li><li>use <code>\input{...}{...}</code> in your markdown (see below) and when the website is updated, it will plug-in the most recent parts that have been generated.</li></ul><p>That way, if you modify the code, everything will be updated on the website too while ensuring that the code actually runs and generates the output you&#39;re displaying.</p><p>Again, the script files can contain <code># hide</code> at the end of lines you do not want to show.</p><p>The <code>generate_results.jl</code> file should run the scripts and redirect outputs to the <code>assets/[path]/output</code> directory. You can use something like the script below (if you generate an example website with <a href="../../lib/public/#JuDocTemplates.newsite"><code>newsite</code></a>, it&#39;s already in there) though you can of course modify it as you wish.</p><pre><code class="language-julia">dir = @__DIR__
&quot;&quot;&quot;
    genplain(s)

Small helper function to run some code and redirect the output (stdout) to a file.
&quot;&quot;&quot;
function genplain(s::String)
    open(joinpath(dir, &quot;output&quot;, &quot;$(splitext(s)[1]).out&quot;), &quot;w&quot;) do outf
        redirect_stdout(outf) do
            include(joinpath(dir, s))
        end
    end
end
# run `script1.jl` and redirect what it prints to `output/script1.out`
genplain(&quot;script1.jl&quot;)
# run `script2.jl` which has a savefig(joinpath(@__DIR__, &quot;output&quot;, &quot;script2.png&quot;))
include(&quot;script2.jl&quot;)</code></pre><p>The function <code>genplain(&quot;scriptname.jl&quot;)</code> just redirects the output of the script to <code>output/scriptname.out</code>. So for instance if you have in <code>assets/scripts/script1.jl</code></p><pre><code class="language-julia">print(&quot;hello&quot;)</code></pre><p>Then <code>genplain(&quot;script1.jl&quot;)</code> will generate <code>/assets/scripts/output/script1.out</code> with content</p><pre><code class="language-julia">hello</code></pre><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>You could have scripts in any language here (<code>R</code>, <code>Python</code>, ...) as long as the folder structure is the same.</p></div></div><h4><a class="nav-anchor" id="Inserting-code-1" href="#Inserting-code-1">Inserting code</a></h4><p>In order to insert the code of a script and have it highlighted you can use</p><pre><code class="language-judoc">\input{julia}{scripts/script1.jl}</code></pre><p>or <code>\input{code:julia}{scripts/script1.jl}</code>. This will insert the content of the file <code>/assets/scripts/script1.jl</code> (see also the section earlier on paths) into a block that will be highlighted as julia code.</p><h4><a class="nav-anchor" id="Plain-text-output-1" href="#Plain-text-output-1">Plain-text output</a></h4><p>In order to insert the plain-text output of a script, you can use</p><pre><code class="language-judoc">\input{output}{scripts/script1.jl}</code></pre><p>or <code>\input{output:plain}{scripts/script1.jl}</code>. This will insert the content of the file <code>/assets/scripts/script1.out</code> into a non-highlighted code-block.</p><h4><a class="nav-anchor" id="Plot-output-1" href="#Plot-output-1">Plot output</a></h4><p>In order to insert a plot generated by a script, you can use</p><pre><code class="language-judoc">\input{plot}{scripts/script1.jl}</code></pre><p>or <code>\input{plot:id}{scripts/script1.jl}</code>. This will look for an image file with root name <code>/assets/scripts/script1.ext</code> where <code>ext</code> is <code>gif, png, jp(e)g, svg</code>. If you use <code>plot:id</code> then it will look for an image file with root name <code>/assets/scripts/script1id.ext</code>.</p><p>The <code>plot:id</code> option is useful if you have a script that generates several plots for instance.</p><h4><a class="nav-anchor" id="Slicing-up-1" href="#Slicing-up-1">Slicing up</a></h4><p>The structure in the <code>generate_results.jl</code> effectively means that all your code is run as one big script. This also means that if you want to slice some of your code in several parts and show intermediate outputs (e.g. plots), well you can just do that by having a <code>script_1_p1.jl</code>, <code>script_1_p2.jl</code> etc. and then just use  <code>\input</code> multiple times.</p><h2><a class="nav-anchor" id="File-insertions-1" href="#File-insertions-1">File insertions</a></h2><p>A few commands are defined to help you with insertions of content; you can also define your own commands using custom HTML as was discussed before.</p><h3><a class="nav-anchor" id="Inserting-a-figure-1" href="#Inserting-a-figure-1">Inserting a figure</a></h3><p>The commands</p><ul><li><code>\figalt{alt}{path}</code>, and</li><li><code>\fig{path}</code></li></ul><p>are convenient commands to insert figures. Of course you&#39;re free to use the default markdown way <code>![alt](full_path)</code> instead. One difference with these commands though is that they allow the use of relative paths (see <a href="#More-on-paths-1">the point on paths</a>); this can be convenient in order to organise your assets as you organise your pages.  </p><p><strong>Note</strong>: as sometimes figures are generated by code, it is sometimes convenient to save them in a <code>path/output/</code> subfolder. The <code>\fig</code> and <code>\figalt</code> will try to look both in <code>path</code> and <code>path/output</code> so that you don&#39;t have to think about it. Likewise, if the extension is not provided, JuDoc will try common ones. For instance, all of these will work:</p><pre><code class="language-judoc">```julia:./ex1
using PyPlot
figure()
plot([0, 1], [0, 1])
savefig(joinpath(@__DIR__, &quot;output&quot;, &quot;test.png&quot;))
```
\fig{./test}
\fig{./output/test}
\fig{./test.png}</code></pre><h3><a class="nav-anchor" id="Linking-a-file-1" href="#Linking-a-file-1">Linking a file</a></h3><p>The command</p><ul><li><code>\file{name}{path}</code></li></ul><p>is a convenient way to link to a local asset (e.g. a pdf file). Again, you could use the default markdown way <code>[name](full_path)</code> but, as for the fig commands, this allows the use of relative paths.</p><h3><a class="nav-anchor" id="Inserting-markdown-1" href="#Inserting-markdown-1">Inserting markdown</a></h3><p>In some situation, you may have some markdown in a file which you may want to include somewhere else. This can be achieved thanks to the  <code>\textinput{path}</code> commmand. The path specification is as the other commands, and the text will be formatted.</p><p>As an example you could have in <code>/assets/ccc/sidefile.md</code>:</p><pre><code class="language-judoc">some **markdown** in a side file.</code></pre><p>where in <code>/src/index.md</code>:</p><pre><code class="language-judoc">This is the index then \textinput{ccc/sidefile}</code></pre><p>and this will be equivalent to just having in <code>/src/index.md</code>:</p><pre><code class="language-judoc">This is the index then some **markdown** in a side file.</code></pre><p><strong>Note</strong>: if you don&#39;t specify a file extension, <code>.md</code> is appended to the specified path.</p><h3><a class="nav-anchor" id="Inserting-a-table-1" href="#Inserting-a-table-1">Inserting a table</a></h3><p>You can insert tables directly from CSV files with the <code>\tableinput{header}{path}</code> command. If you generate the file on-the-fly, you should follow this example:</p><pre><code class="language-judoc">```julia:./tableinput/gen
testcsv = &quot;h1,h2,h3
152,some string, 1.5f0
0,another string,2.87&quot;
write(&quot;assets/pages/tableinput/testcsv.csv&quot;, testcsv)
```</code></pre><p>Then you can insert the table with:</p><pre><code class="language-judoc">\tableinput{}{./tableinput/testcsv.csv}</code></pre><p>Which will result in:</p><table><tr><th style="text-align: right">h1</th><th style="text-align: right">h2</th><th style="text-align: right">h3</th></tr><tr><td style="text-align: right">152</td><td style="text-align: right">some string</td><td style="text-align: right">1.5f0</td></tr><tr><td style="text-align: right">0</td><td style="text-align: right">another string</td><td style="text-align: right">2.87</td></tr></table><p>In this case given no header was specified in the call, a header was generated from the first line in the CSV (here: h1, h2, h3).</p><p>If your file doesn&#39;t have a header, you can specify it in the call:</p><pre><code class="language-judoc">```julia:./tableinput/gen
testcsv = &quot;152,some string, 1.5f0
0,another string,2.87&quot;
write(&quot;assets/pages/tableinput/testcsv2.csv&quot;, testcsv)

\tableinput{custom h1,custom h2,custom h3}{./tableinput/testcsv2.csv}</code></pre><table><tr><th style="text-align: right">custom h1</th><th style="text-align: right">custom h2</th><th style="text-align: right">custom h3</th></tr><tr><td style="text-align: right">152</td><td style="text-align: right">some string</td><td style="text-align: right">1.5f0</td></tr><tr><td style="text-align: right">0</td><td style="text-align: right">another string</td><td style="text-align: right">2.87</td></tr></table><p>With the above in mind, you can also include existing CSV files.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>The look of the table will be defined by your CSS stylesheet.</p></div></div><p>There&#39;s a couple of rules that you have to keep in mind when using the <code>\tableinput{}{}</code> command:</p><ul><li>Columns must be separated by a comma (<code>,</code>).</li><li>If a header is specified, its length must match the number of columns in the file.</li></ul><h2><a class="nav-anchor" id="Page-variables-1" href="#Page-variables-1">Page variables</a></h2><p>Page variables are a way to interact with the HTML templating. In essence, you can define variables in the markdown which can then be called or used in the HTML building blocks that are in <code>src/_html_parts/</code>.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>Page variables are still somewhat rudimentary and while the syntax for declaring a variable will likely not change, the way they are used will almost certainly be refined in the future (see also <a href="../templating/#Templating-1">Templating</a>).</p></div></div><h3><a class="nav-anchor" id="Local-page-variables-1" href="#Local-page-variables-1">Local page variables</a></h3><p>The syntax to define a page variable in markdown is to write on a new line:</p><pre><code class="language-judoc">@def variable_name = ...</code></pre><p>where whatever is after the <code>=</code> sign should be a valid Julia expression (Julia will try to parse it and will throw an error if it can&#39;t). Multiline definitions are not (yet) allowed but if you have a need for that, please open an issue. The idea is that these variables are likely to be rather simple: strings, bools, ints, dates, ... I don&#39;t yet see a usecase for more involved things.</p><p>Once such a variable is defined you can use it with the templating syntax (see <a href="../templating/#Templating-1">Templating</a>). For instance in your <code>src/index.md</code> you could have</p><pre><code class="language-judoc">@def contributors = &quot;Chuck Norris&quot;</code></pre><p>and in your <code>src/_html_parts/head.html</code> you could have</p><pre><code class="language-html">{{isdef contributors}}
This page was written with the help of {{fill contributors}}
{{end}}</code></pre><p>since <code>contributors</code> is a <em>local page variable</em> that is defined in <code>src/index.md</code>, the corresponding <code>index.html</code> will show &quot;<em>This page was written with the help of Chuck Norris</em>&quot;; however on any other page, this will not show (unless, again, you define <code>@def contributors = ...</code> there). See also <a href="../templating/#Templating-1">Templating</a> for how page variables can be used in the HTML.</p><h4><a class="nav-anchor" id="Default-variables-1" href="#Default-variables-1">Default variables</a></h4><p>A few variables are already present and used in the basic templates (you can still modify their value though it has to match the type):</p><table><tr><th style="text-align: left">Name</th><th style="text-align: left">Accepted types</th><th style="text-align: left">Default value</th><th style="text-align: left">Function</th></tr><tr><td style="text-align: left"><code>title</code></td><td style="text-align: left"><code>Nothing</code>, <code>String</code></td><td style="text-align: left"><code>nothing</code></td><td style="text-align: left">title of the page (tab name)</td></tr><tr><td style="text-align: left"><code>hasmath</code></td><td style="text-align: left"><code>Bool</code></td><td style="text-align: left"><code>true</code></td><td style="text-align: left">if <code>true</code> the KaTeX stylesheet and script will be added to the page</td></tr><tr><td style="text-align: left"><code>hascode</code></td><td style="text-align: left"><code>Bool</code></td><td style="text-align: left"><code>false</code></td><td style="text-align: left">if <code>false</code> the highlight stylesheet and script will be added to the page</td></tr><tr><td style="text-align: left"><code>date</code></td><td style="text-align: left"><code>String</code>, <code>Date</code>, <code>Nothing</code></td><td style="text-align: left"><code>Date(1)</code></td><td style="text-align: left">a date variable</td></tr><tr><td style="text-align: left"><code>lang</code></td><td style="text-align: left"><code>String</code></td><td style="text-align: left"><code>&quot;julia&quot;</code></td><td style="text-align: left">the default language to use for code blocks</td></tr><tr><td style="text-align: left"><code>reflinks</code></td><td style="text-align: left"><code>Bool</code></td><td style="text-align: left"><code>true</code></td><td style="text-align: left">whether there may be referred links like like <code>[link][id]</code> and <code>[id]: some/url</code>, turn this to false if your code has patterns like <code>[...]: ...</code> which are <strong>not</strong> link definitions (see also <a href="#Quirks-1">quirks</a>)</td></tr></table><p>Then there are some variables that are automatically assigned and that you should therefore <strong>not</strong> assign  yourself (but you can use them):</p><table><tr><th style="text-align: left">Name</th><th style="text-align: left">Type</th><th style="text-align: left">Value</th><th style="text-align: left">Function</th></tr><tr><td style="text-align: left"><code>jd_ctime</code></td><td style="text-align: left"><code>Date</code></td><td style="text-align: left"><code>stat(file).ctime</code></td><td style="text-align: left">page creation date</td></tr><tr><td style="text-align: left"><code>jd_mtime</code></td><td style="text-align: left"><code>Date</code></td><td style="text-align: left"><code>stat(file).mtime</code></td><td style="text-align: left">last page modification date</td></tr></table><h3><a class="nav-anchor" id="Global-page-variables-1" href="#Global-page-variables-1">Global page variables</a></h3><p>You can also define <em>global page variables</em> by simply putting the definition in the <code>src/config.md</code> file. For instance you may want to have a single main author across all pages and would then write</p><pre><code class="language-judoc">@def author = &quot;Septimia Zenobia&quot;</code></pre><p>in the <code>src/config.md</code> file.</p><p>You can overwrite global variables in any page by redefining it locally. For instance you could set <code>hasmath</code> globally to <code>false</code> and <code>hascode</code> globally to <code>true</code> and then modify it locally as appropriate.</p><p>There are also a few pre-defined global variables:</p><table><tr><th style="text-align: left">Name</th><th style="text-align: left">Accepted types</th><th style="text-align: left">Default value</th><th style="text-align: left">Function</th></tr><tr><td style="text-align: left"><code>author</code></td><td style="text-align: left"><code>String</code>, <code>Nothing</code></td><td style="text-align: left"><code>THE AUTHOR</code></td><td style="text-align: left">author (e.g. may appear in footer)</td></tr><tr><td style="text-align: left"><code>date_format</code></td><td style="text-align: left"><code>String</code></td><td style="text-align: left"><code>U dd, yyyy</code></td><td style="text-align: left">a valid date format specifier</td></tr><tr><td style="text-align: left"><code>prepath</code></td><td style="text-align: left"><code>String</code></td><td style="text-align: left">&quot;&quot;</td><td style="text-align: left">if the website is meant to be a <em>project</em> website on GitHub for instance corresponding to a repo <code>github.com/username/repo</code> as opposed to <code>github.com/username.github.io</code>, then all url paths should be prepended with <code>repo/</code> which you can do by specifying <code>@def prepath = &quot;repo&quot;</code> (see also <a href="/man/workflow/#Hosting-the-website-as-a-project-website-1">hosting the website as a project website</a>)</td></tr></table><footer><hr/><a class="previous" href="../workflow/"><span class="direction">Previous</span><span class="title">Workflow</span></a><a class="next" href="../templating/"><span class="direction">Next</span><span class="title">Templating</span></a></footer></article></body></html>
